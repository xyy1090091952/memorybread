# 日语单词记忆软件「memorybread」使用指南

memorybread 是一个简单易用的日语单词记忆软件，支持单词测试和词库管理功能。

## 系统要求

- macOS 10.13 或更高版本
- Python 3.7 或更高版本
- 现代浏览器（推荐使用 Chrome）

## 1. 安装与运行

### 首次使用

1. 确保您的 Mac 已安装 Python 3.7 或更高版本
   - 如果没有安装，请从 [Python官网](https://www.python.org/downloads/) 下载安装
   - 安装时请勾选"Add Python to PATH"选项

2. 下载并解压 memorybread 软件包
   - 建议将软件包放在应用程序文件夹中
   - 确保解压后的文件夹有完整的读写权限

3. 双击运行 `start_app.command` 文件
   - 首次运行时可能会提示安全警告，请在"系统偏好设置 > 安全性与隐私"中允许运行
   - 脚本会自动检查并安装必要的 Python 包
   - 如果遇到权限问题，请在终端中运行：`chmod +x start_app.command`
   - 安装过程可能需要几分钟，请耐心等待

4. 等待浏览器自动打开应用页面
   - 如果没有自动打开，请手动访问：http://localhost:7023/
   - 建议使用 Chrome 或 Safari 浏览器以获得最佳体验

### 日常使用

1. 双击运行 `start_app.command` 文件
2. 等待浏览器打开应用页面
3. 使用完毕后，在终端窗口输入 'stop' 并按回车关闭服务器

## 2. 功能说明

### 答题模式

- 点击"答题模式"按钮开始测试
- 系统随机显示中文单词，输入对应的日语假名
- 支持三种题型:
  - 混合模式: 随机显示填空题或选择题
  - 填空题: 输入假名答案
  - 选择题: 从4个选项中选择正确答案
- 支持快捷键操作:
  - Enter: 提交答案/下一题
  - 数字键1-4: 选择题选项
  - ⌘+Enter: 跳过当前问题
- 提交后显示:
  - 正确答案
  - 汉字写法(如果有)
  - 例句(如果有)
  - 词性标签(动词/名词/形容词等)
- 正确/错误会有视觉反馈和Toast通知

### 单词库管理

1. 点击"单词库"按钮进入管理界面
2. 以表格形式展示所有单词:
   - 假名
   - 汉字
   - 中文
   - 例句
   - 词性
   - 所属课程
3. 支持多种筛选功能:
   - 课时筛选: 可选择查看特定课时的单词
   - 词典筛选: 可选择《大家的日语》或梁老师课程词汇
   - 词性筛选: 可筛选特定词性的单词
4. 表格功能:
   - 支持按列排序
   - 支持搜索关键词
   - 支持分页浏览
5. 单词详情:
   - 点击单词可查看完整信息
   - 包含例句发音(如有)

## 3. 词库说明

### 词库来源
- 词库包含两个来源：
  - 《大家的日语》教材第31-37课词汇
  - 梁老师课程第17-23课词汇

### 词库规则
具体规则，可以看data_rule.md
可以通过大模型根据规则录入；

- 数据库文件命名规则：
  - 《大家的日语》词汇：`words31.json` 至 `words37.json`
  - 梁老师课程词汇：`words17.json` 至 `words23.json`

### 词库更新
- 词库定期更新，确保内容准确
- 最新更新：
  - 《大家的日语》第31-37课词汇已更新完成
  - 梁老师课程第17-23课词汇已更新完成

## 4. 数据存储

- 所有单词数据保存在 `database` 文件夹中
- 即使关闭服务器，数据也不会丢失
- 建议定期备份 `database` 文件夹

## 5. 常见问题

Q: 启动脚本时报错"无法运行"
A: 请在终端中运行：`chmod +x start_app.command` 添加执行权限

Q: 启动脚本时报错"未检测到Python3"
A: 请确保已安装 Python 3.7 或更高版本，并确保安装时勾选了"Add Python to PATH"选项
   - 可尝试在终端运行: `which python3` 检查路径

Q: 启动脚本时报错"端口被占用"
A: 脚本会自动释放7023端口，如持续报错请手动关闭占用该端口的程序
   - 可运行 `lsof -i :7023` 查看占用进程
   - 或修改 `save_words_server.py` 中的端口号

Q: 浏览器缓存问题
A: 脚本会自动清除Chrome浏览器缓存，其他浏览器需手动清除
   - Chrome: ⌘+Shift+Delete 清除缓存
   - Safari: 开发菜单 > 清空缓存

Q: 如何备份单词数据？
A: 定期备份 `database` 文件夹即可
   - 建议使用 Time Machine 或云存储备份

Q: 如何添加自定义词库？
A: 按照 `data_rules.md` 中的格式创建JSON文件并放入对应文件夹

Q: 答题模式没有反应？
A: 请尝试刷新页面(⌘+R)或重启应用

如有其他问题，请联系开发者。
